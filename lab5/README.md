# Алгоритмы и структуры данных — ЛР5 (пирамида)

Студент: Джафари Хоссаин  
Вариант: 19 (задачи №5 и №6 из таблицы)

## Задача 5 — Планировщик заданий
**Формулировка.** Есть `n` потоков и `m` задач с известными временами выполнения `t_i`. Поток, который освобождается раньше всех, берет следующую задачу; при одновременном освобождении приоритет у потока с меньшим индексом. Нужно вывести для каждой задачи номер потока и момент старта.

**Алгоритм.**
- Использую мин-кучу с ключом `(время_готовности, индекс_потока)`.
- Инициализация: все потоки имеют время готовности `0`.
- Для каждой задачи беру верхушку кучи, пишу в ответ `(индекс, время_готовности)`, затем помещаю поток обратно с новым временем `готовность + t_i`.
- Куча гарантирует правильный выбор потока даже при одновременном освобождении.

**Сложность.** Построение кучи `O(n)`, обработка `m` задач — `O(m log n)` по времени, `O(n)` по памяти.

**Пример.**
Вход:
```
2 5
1 2 3 4 5
```
Выход:
```
0 0
1 0
0 1
1 2
0 4
```

**Вывод по задаче 5.** Мин-куча на парах `(готовность, поток)` компактно моделирует работу планировщика и дает нужный порядок старта задач.

## Задача 6 — Очередь с приоритетами с уменьшением ключа
**Формулировка.** Реализовать операции:
- `A x` — добавить число `x`;
- `X` — извлечь минимум (или `*`, если очередь пуста);
- `D i y` — уменьшить значение элемента, добавленного в операции с номером `i`, до `y` (гарантируется, что элемент ещё в куче и `y` меньше прежнего значения).

**Алгоритм.**
- Поддерживаю мин-кучу из пар `(значение, id)` и словарь `pos[id] -> индекс_в_куче` для прямого доступа при `D`.
- `A`: кладём `(x, id)`, сохраняем позицию, восстанавливаем кучу вверх.
- `X`: извлекаем минимум, переставляем последний элемент, восстанавливаем кучу вниз и чистим `pos`.
- `D`: по `id` получаем позицию, уменьшаем ключ и поднимаем элемент вверх.
- Все перестановки сопровождаются обновлением `pos`, чтобы `D` работало за `O(log n)`.

**Сложность.** Каждая операция — `O(log n)` по времени, `O(n)` по памяти (хранение кучи и позиций).

**Пример.**
Вход:
```
8
A 3
A 4
A 2
X
D 2 1
X
X
X
```
Выход:
```
2
1
3
*
```

**Вывод по задаче 6.** Связка «куча + таблица позиций» позволяет эффективно выполнять `decrease-key` и поддерживать корректность всех операций.

## Общий вывод
Для варианта 19 решены задачи планировщика и расширенной очереди с приоритетами. В обоих случаях ключевую роль играет пирамида (мин-куча), которая упрощает выбор минимального элемента за `O(log n)` и даёт предсказуемые гарантии по времени и памяти.
